"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/search";
exports.ids = ["pages/api/search"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "puppeteer":
/*!****************************!*\
  !*** external "puppeteer" ***!
  \****************************/
/***/ ((module) => {

module.exports = import("puppeteer");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csearch.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csearch.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_search_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\search.ts */ \"(api)/./pages/api/search.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_search_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_search_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_search_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_search_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/search\",\n        pathname: \"/api/search\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_search_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnNlYXJjaCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDc2VhcmNoLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ29EO0FBQ3BEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxpREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsaURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGlmdHBhcnRzLWZpbmRlci8/NzY2YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXHNlYXJjaC50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3NlYXJjaFwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3NlYXJjaFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csearch.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/connectors/elevatorshop.ts":
/*!****************************************!*\
  !*** ./lib/connectors/elevatorshop.ts ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   searchElevatorshop: () => (/* binding */ searchElevatorshop)\n/* harmony export */ });\n/* harmony import */ var puppeteer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! puppeteer */ \"puppeteer\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([puppeteer__WEBPACK_IMPORTED_MODULE_0__]);\npuppeteer__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// lib/connectors/elevatorshop.ts\n\nasync function searchElevatorshop(query) {\n    const browser = await puppeteer__WEBPACK_IMPORTED_MODULE_0__[\"default\"].launch({\n        headless: true,\n        args: [\n            \"--no-sandbox\",\n            \"--disable-setuid-sandbox\",\n            \"--disable-dev-shm-usage\"\n        ]\n    });\n    const page = await browser.newPage();\n    try {\n        // Bloque les ressources inutiles pour accÃ©lÃ©rer\n        await page.setRequestInterception(true);\n        page.on(\"request\", (req)=>{\n            const type = req.resourceType();\n            if ([\n                \"stylesheet\",\n                \"font\",\n                \"media\"\n            ].includes(type)) {\n                req.abort();\n            } else {\n                req.continue();\n            }\n        });\n        // Appel direct URL de recherche\n        await page.goto(`https://www.elevatorshop.de/fr/search?search=${encodeURIComponent(query)}`, {\n            waitUntil: \"domcontentloaded\"\n        });\n        // Attend les produits\n        await page.waitForSelector(\".product-box\", {\n            timeout: 10000\n        });\n        // Scraping stable via evaluate\n        const results = await page.evaluate(()=>{\n            const items = Array.from(document.querySelectorAll(\".product-box\"));\n            return items.slice(0, 20).map((card)=>{\n                const titleEl = card.querySelector(\".product-name\");\n                const linkEl = card.querySelector(\".product-image-link\");\n                const imgEl = card.querySelector(\".product-image-wrapper img\");\n                const refEl = card.querySelector(\".product-artikelnr\");\n                const stockEl = card.querySelector(\".badge-success\");\n                const reference = refEl?.textContent?.match(/\\d+/)?.[0] || \"\";\n                const stock = stockEl?.textContent?.trim() || \"\";\n                // âœ… URL produit pour le front-end : renommÃ© en `link`\n                const link = linkEl?.href || titleEl?.href || (reference ? `https://www.elevatorshop.de/fr/search?search=${reference}` : \"\");\n                return {\n                    supplier: \"ElevatorShop\",\n                    title: titleEl?.textContent?.trim() || \"\",\n                    link,\n                    image: imgEl?.src || \"\",\n                    reference,\n                    stock\n                };\n            });\n        });\n        console.log(\"Elevatorshop parsed:\", results.length);\n        return results;\n    } catch (err) {\n        console.error(\"Elevatorshop Puppeteer error:\", err);\n        return [];\n    } finally{\n        await browser.close();\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvY29ubmVjdG9ycy9lbGV2YXRvcnNob3AudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxpQ0FBaUM7QUFDQTtBQUcxQixlQUFlQyxtQkFBbUJDLEtBQWE7SUFDcEQsTUFBTUMsVUFBVSxNQUFNSCx3REFBZ0IsQ0FBQztRQUNyQ0ssVUFBVTtRQUNWQyxNQUFNO1lBQ0o7WUFDQTtZQUNBO1NBQ0Q7SUFDSDtJQUVBLE1BQU1DLE9BQU8sTUFBTUosUUFBUUssT0FBTztJQUVsQyxJQUFJO1FBQ0YsZ0RBQWdEO1FBQ2hELE1BQU1ELEtBQUtFLHNCQUFzQixDQUFDO1FBQ2xDRixLQUFLRyxFQUFFLENBQUMsV0FBV0MsQ0FBQUE7WUFDakIsTUFBTUMsT0FBT0QsSUFBSUUsWUFBWTtZQUM3QixJQUFJO2dCQUFDO2dCQUFjO2dCQUFRO2FBQVEsQ0FBQ0MsUUFBUSxDQUFDRixPQUFPO2dCQUNsREQsSUFBSUksS0FBSztZQUNYLE9BQU87Z0JBQ0xKLElBQUlLLFFBQVE7WUFDZDtRQUNGO1FBRUEsZ0NBQWdDO1FBQ2hDLE1BQU1ULEtBQUtVLElBQUksQ0FDYixDQUFDLDZDQUE2QyxFQUFFQyxtQkFBbUJoQixPQUFPLENBQUMsRUFDM0U7WUFBRWlCLFdBQVc7UUFBbUI7UUFHbEMsc0JBQXNCO1FBQ3RCLE1BQU1aLEtBQUthLGVBQWUsQ0FBQyxnQkFBZ0I7WUFBRUMsU0FBUztRQUFNO1FBRTVELCtCQUErQjtRQUMvQixNQUFNQyxVQUFVLE1BQU1mLEtBQUtnQixRQUFRLENBQUM7WUFDbEMsTUFBTUMsUUFBUUMsTUFBTUMsSUFBSSxDQUFDQyxTQUFTQyxnQkFBZ0IsQ0FBQztZQUNuRCxPQUFPSixNQUFNSyxLQUFLLENBQUMsR0FBRyxJQUFJQyxHQUFHLENBQUNDLENBQUFBO2dCQUM1QixNQUFNQyxVQUFVRCxLQUFLRSxhQUFhLENBQUM7Z0JBQ25DLE1BQU1DLFNBQVNILEtBQUtFLGFBQWEsQ0FBQztnQkFDbEMsTUFBTUUsUUFBUUosS0FBS0UsYUFBYSxDQUFDO2dCQUNqQyxNQUFNRyxRQUFRTCxLQUFLRSxhQUFhLENBQUM7Z0JBQ2pDLE1BQU1JLFVBQVVOLEtBQUtFLGFBQWEsQ0FBQztnQkFFbkMsTUFBTUssWUFBWUYsT0FBT0csYUFBYUMsTUFBTSxRQUFRLENBQUMsRUFBRSxJQUFJO2dCQUMzRCxNQUFNQyxRQUFRSixTQUFTRSxhQUFhRyxVQUFVO2dCQUU5QyxzREFBc0Q7Z0JBQ3RELE1BQU1DLE9BQU9ULFFBQVFVLFFBQVFaLFNBQVNZLFFBQVNOLENBQUFBLFlBQVksQ0FBQyw2Q0FBNkMsRUFBRUEsVUFBVSxDQUFDLEdBQUcsRUFBQztnQkFFMUgsT0FBTztvQkFDTE8sVUFBVTtvQkFDVkMsT0FBT2QsU0FBU08sYUFBYUcsVUFBVTtvQkFDdkNDO29CQUNBSSxPQUFPWixPQUFPYSxPQUFPO29CQUNyQlY7b0JBQ0FHO2dCQUNGO1lBQ0Y7UUFDRjtRQUVBUSxRQUFRQyxHQUFHLENBQUMsd0JBQXdCNUIsUUFBUTZCLE1BQU07UUFFbEQsT0FBTzdCO0lBQ1QsRUFBRSxPQUFPOEIsS0FBSztRQUNaSCxRQUFRSSxLQUFLLENBQUMsaUNBQWlDRDtRQUMvQyxPQUFPLEVBQUU7SUFDWCxTQUFVO1FBQ1IsTUFBTWpELFFBQVFtRCxLQUFLO0lBQ3JCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saWZ0cGFydHMtZmluZGVyLy4vbGliL2Nvbm5lY3RvcnMvZWxldmF0b3JzaG9wLnRzPzc2YzkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbGliL2Nvbm5lY3RvcnMvZWxldmF0b3JzaG9wLnRzXHJcbmltcG9ydCBwdXBwZXRlZXIgZnJvbSAncHVwcGV0ZWVyJ1xyXG5pbXBvcnQgdHlwZSB7IFN1cHBsaWVyUmVzdWx0IH0gZnJvbSAnLi4vdHlwZXMnXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VhcmNoRWxldmF0b3JzaG9wKHF1ZXJ5OiBzdHJpbmcpOiBQcm9taXNlPFN1cHBsaWVyUmVzdWx0W10+IHtcclxuICBjb25zdCBicm93c2VyID0gYXdhaXQgcHVwcGV0ZWVyLmxhdW5jaCh7XHJcbiAgICBoZWFkbGVzczogdHJ1ZSxcclxuICAgIGFyZ3M6IFtcclxuICAgICAgJy0tbm8tc2FuZGJveCcsXHJcbiAgICAgICctLWRpc2FibGUtc2V0dWlkLXNhbmRib3gnLFxyXG4gICAgICAnLS1kaXNhYmxlLWRldi1zaG0tdXNhZ2UnXHJcbiAgICBdXHJcbiAgfSlcclxuXHJcbiAgY29uc3QgcGFnZSA9IGF3YWl0IGJyb3dzZXIubmV3UGFnZSgpXHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyBCbG9xdWUgbGVzIHJlc3NvdXJjZXMgaW51dGlsZXMgcG91ciBhY2PDqWzDqXJlclxyXG4gICAgYXdhaXQgcGFnZS5zZXRSZXF1ZXN0SW50ZXJjZXB0aW9uKHRydWUpXHJcbiAgICBwYWdlLm9uKCdyZXF1ZXN0JywgcmVxID0+IHtcclxuICAgICAgY29uc3QgdHlwZSA9IHJlcS5yZXNvdXJjZVR5cGUoKVxyXG4gICAgICBpZiAoWydzdHlsZXNoZWV0JywgJ2ZvbnQnLCAnbWVkaWEnXS5pbmNsdWRlcyh0eXBlKSkge1xyXG4gICAgICAgIHJlcS5hYm9ydCgpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVxLmNvbnRpbnVlKClcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBBcHBlbCBkaXJlY3QgVVJMIGRlIHJlY2hlcmNoZVxyXG4gICAgYXdhaXQgcGFnZS5nb3RvKFxyXG4gICAgICBgaHR0cHM6Ly93d3cuZWxldmF0b3JzaG9wLmRlL2ZyL3NlYXJjaD9zZWFyY2g9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpfWAsXHJcbiAgICAgIHsgd2FpdFVudGlsOiAnZG9tY29udGVudGxvYWRlZCcgfVxyXG4gICAgKVxyXG5cclxuICAgIC8vIEF0dGVuZCBsZXMgcHJvZHVpdHNcclxuICAgIGF3YWl0IHBhZ2Uud2FpdEZvclNlbGVjdG9yKCcucHJvZHVjdC1ib3gnLCB7IHRpbWVvdXQ6IDEwMDAwIH0pXHJcblxyXG4gICAgLy8gU2NyYXBpbmcgc3RhYmxlIHZpYSBldmFsdWF0ZVxyXG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHBhZ2UuZXZhbHVhdGUoKCkgPT4ge1xyXG4gICAgICBjb25zdCBpdGVtcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2R1Y3QtYm94JykpXHJcbiAgICAgIHJldHVybiBpdGVtcy5zbGljZSgwLCAyMCkubWFwKGNhcmQgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRpdGxlRWwgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0LW5hbWUnKSBhcyBIVE1MQW5jaG9yRWxlbWVudFxyXG4gICAgICAgIGNvbnN0IGxpbmtFbCA9IGNhcmQucXVlcnlTZWxlY3RvcignLnByb2R1Y3QtaW1hZ2UtbGluaycpIGFzIEhUTUxBbmNob3JFbGVtZW50XHJcbiAgICAgICAgY29uc3QgaW1nRWwgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0LWltYWdlLXdyYXBwZXIgaW1nJykgYXMgSFRNTEltYWdlRWxlbWVudFxyXG4gICAgICAgIGNvbnN0IHJlZkVsID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1hcnRpa2VsbnInKVxyXG4gICAgICAgIGNvbnN0IHN0b2NrRWwgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5iYWRnZS1zdWNjZXNzJylcclxuXHJcbiAgICAgICAgY29uc3QgcmVmZXJlbmNlID0gcmVmRWw/LnRleHRDb250ZW50Py5tYXRjaCgvXFxkKy8pPy5bMF0gfHwgJydcclxuICAgICAgICBjb25zdCBzdG9jayA9IHN0b2NrRWw/LnRleHRDb250ZW50Py50cmltKCkgfHwgJydcclxuXHJcbiAgICAgICAgLy8g4pyFIFVSTCBwcm9kdWl0IHBvdXIgbGUgZnJvbnQtZW5kIDogcmVub21tw6kgZW4gYGxpbmtgXHJcbiAgICAgICAgY29uc3QgbGluayA9IGxpbmtFbD8uaHJlZiB8fCB0aXRsZUVsPy5ocmVmIHx8IChyZWZlcmVuY2UgPyBgaHR0cHM6Ly93d3cuZWxldmF0b3JzaG9wLmRlL2ZyL3NlYXJjaD9zZWFyY2g9JHtyZWZlcmVuY2V9YCA6ICcnKVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgc3VwcGxpZXI6ICdFbGV2YXRvclNob3AnLFxyXG4gICAgICAgICAgdGl0bGU6IHRpdGxlRWw/LnRleHRDb250ZW50Py50cmltKCkgfHwgJycsXHJcbiAgICAgICAgICBsaW5rLCAgICAgICAgICAvLyA8LSBpY2kgbGUgY2hhbmdlbWVudCBpbXBvcnRhbnRcclxuICAgICAgICAgIGltYWdlOiBpbWdFbD8uc3JjIHx8ICcnLFxyXG4gICAgICAgICAgcmVmZXJlbmNlLFxyXG4gICAgICAgICAgc3RvY2tcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdFbGV2YXRvcnNob3AgcGFyc2VkOicsIHJlc3VsdHMubGVuZ3RoKVxyXG5cclxuICAgIHJldHVybiByZXN1bHRzXHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFbGV2YXRvcnNob3AgUHVwcGV0ZWVyIGVycm9yOicsIGVycilcclxuICAgIHJldHVybiBbXVxyXG4gIH0gZmluYWxseSB7XHJcbiAgICBhd2FpdCBicm93c2VyLmNsb3NlKClcclxuICB9XHJcbn0iXSwibmFtZXMiOlsicHVwcGV0ZWVyIiwic2VhcmNoRWxldmF0b3JzaG9wIiwicXVlcnkiLCJicm93c2VyIiwibGF1bmNoIiwiaGVhZGxlc3MiLCJhcmdzIiwicGFnZSIsIm5ld1BhZ2UiLCJzZXRSZXF1ZXN0SW50ZXJjZXB0aW9uIiwib24iLCJyZXEiLCJ0eXBlIiwicmVzb3VyY2VUeXBlIiwiaW5jbHVkZXMiLCJhYm9ydCIsImNvbnRpbnVlIiwiZ290byIsImVuY29kZVVSSUNvbXBvbmVudCIsIndhaXRVbnRpbCIsIndhaXRGb3JTZWxlY3RvciIsInRpbWVvdXQiLCJyZXN1bHRzIiwiZXZhbHVhdGUiLCJpdGVtcyIsIkFycmF5IiwiZnJvbSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInNsaWNlIiwibWFwIiwiY2FyZCIsInRpdGxlRWwiLCJxdWVyeVNlbGVjdG9yIiwibGlua0VsIiwiaW1nRWwiLCJyZWZFbCIsInN0b2NrRWwiLCJyZWZlcmVuY2UiLCJ0ZXh0Q29udGVudCIsIm1hdGNoIiwic3RvY2siLCJ0cmltIiwibGluayIsImhyZWYiLCJzdXBwbGllciIsInRpdGxlIiwiaW1hZ2UiLCJzcmMiLCJjb25zb2xlIiwibG9nIiwibGVuZ3RoIiwiZXJyIiwiZXJyb3IiLCJjbG9zZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/connectors/elevatorshop.ts\n");

/***/ }),

/***/ "(api)/./lib/connectors/mysodimas.ts":
/*!*************************************!*\
  !*** ./lib/connectors/mysodimas.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   searchMySodimas: () => (/* binding */ searchMySodimas)\n/* harmony export */ });\n// lib/connectors/mysodimas.ts\nasync function searchMySodimas(query) {\n    function cleanStock(html) {\n        if (!html) return \"\";\n        return html.replace(/<[^>]*>/g, \"\").replace(/\\s+/g, \" \").trim();\n    }\n    const PAGE_SIZE = 50;\n    let start = 0;\n    let hasMore = true;\n    let allItems = [];\n    while(hasMore){\n        const url = new URL(\"https://my.sodimas.com/index.cfm\");\n        url.searchParams.set(\"action\", \"search.jsonList\");\n        url.searchParams.set(\"filtrePrincipal\", \"searchstring\");\n        url.searchParams.set(\"filtrePrincipalValue\", query);\n        url.searchParams.set(\"searchstring\", query);\n        url.searchParams.set(\"draw\", \"1\");\n        url.searchParams.set(\"start\", start.toString());\n        url.searchParams.set(\"length\", PAGE_SIZE.toString());\n        const res = await fetch(url.toString(), {\n            headers: {\n                \"Accept\": \"application/json\",\n                \"X-Requested-With\": \"XMLHttpRequest\"\n            }\n        });\n        if (!res.ok) {\n            throw new Error(`Sodimas API error: ${res.status}`);\n        }\n        const json = await res.json();\n        if (!json.data || !Array.isArray(json.data)) break;\n        allItems.push(...json.data);\n        const totalFiltered = json.recordsFiltered ?? null;\n        // Conditions d'arrÃªt\n        if (json.data.length < PAGE_SIZE) {\n            hasMore = false;\n        } else if (totalFiltered && allItems.length >= totalFiltered) {\n            hasMore = false;\n        } else {\n            start += PAGE_SIZE;\n        }\n        // SÃ©curitÃ© anti-boucle infinie (max 500 rÃ©sultats)\n        if (start >= 500) {\n            hasMore = false;\n        }\n    }\n    return allItems.map((item)=>{\n        const ref = item.ref || \"\";\n        const designation = item.designation?.trim() || \"\";\n        const link = `https://my.sodimas.com/fr/recherche?searchstring=${encodeURIComponent(ref || query)}`;\n        const image = ref ? `https://my.sodimas.com/data/produits/thumbnail/dt/${ref}.jpg` : \"\";\n        return {\n            reference: ref,\n            title: designation,\n            designation: designation,\n            stock: cleanStock(item.stock),\n            supplier: \"MySodimas\",\n            link,\n            source: \"MySodimas\",\n            brand: item.brand?.trim() || \"\",\n            image\n        };\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvY29ubmVjdG9ycy9teXNvZGltYXMudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLDhCQUE4QjtBQUd2QixlQUFlQSxnQkFBZ0JDLEtBQWE7SUFFakQsU0FBU0MsV0FBV0MsSUFBWTtRQUM5QixJQUFJLENBQUNBLE1BQU0sT0FBTztRQUNsQixPQUFPQSxLQUNKQyxPQUFPLENBQUMsWUFBWSxJQUNwQkEsT0FBTyxDQUFDLFFBQVEsS0FDaEJDLElBQUk7SUFDVDtJQUVBLE1BQU1DLFlBQVk7SUFDbEIsSUFBSUMsUUFBUTtJQUNaLElBQUlDLFVBQVU7SUFDZCxJQUFJQyxXQUFrQixFQUFFO0lBRXhCLE1BQU9ELFFBQVM7UUFDZCxNQUFNRSxNQUFNLElBQUlDLElBQUk7UUFDcEJELElBQUlFLFlBQVksQ0FBQ0MsR0FBRyxDQUFDLFVBQVU7UUFDL0JILElBQUlFLFlBQVksQ0FBQ0MsR0FBRyxDQUFDLG1CQUFtQjtRQUN4Q0gsSUFBSUUsWUFBWSxDQUFDQyxHQUFHLENBQUMsd0JBQXdCWjtRQUM3Q1MsSUFBSUUsWUFBWSxDQUFDQyxHQUFHLENBQUMsZ0JBQWdCWjtRQUNyQ1MsSUFBSUUsWUFBWSxDQUFDQyxHQUFHLENBQUMsUUFBUTtRQUM3QkgsSUFBSUUsWUFBWSxDQUFDQyxHQUFHLENBQUMsU0FBU04sTUFBTU8sUUFBUTtRQUM1Q0osSUFBSUUsWUFBWSxDQUFDQyxHQUFHLENBQUMsVUFBVVAsVUFBVVEsUUFBUTtRQUVqRCxNQUFNQyxNQUFNLE1BQU1DLE1BQU1OLElBQUlJLFFBQVEsSUFBSTtZQUN0Q0csU0FBUztnQkFDUCxVQUFVO2dCQUNWLG9CQUFvQjtZQUN0QjtRQUNGO1FBRUEsSUFBSSxDQUFDRixJQUFJRyxFQUFFLEVBQUU7WUFDWCxNQUFNLElBQUlDLE1BQU0sQ0FBQyxtQkFBbUIsRUFBRUosSUFBSUssTUFBTSxDQUFDLENBQUM7UUFDcEQ7UUFFQSxNQUFNQyxPQUFPLE1BQU1OLElBQUlNLElBQUk7UUFFM0IsSUFBSSxDQUFDQSxLQUFLQyxJQUFJLElBQUksQ0FBQ0MsTUFBTUMsT0FBTyxDQUFDSCxLQUFLQyxJQUFJLEdBQUc7UUFFN0NiLFNBQVNnQixJQUFJLElBQUlKLEtBQUtDLElBQUk7UUFFMUIsTUFBTUksZ0JBQWdCTCxLQUFLTSxlQUFlLElBQUk7UUFFOUMscUJBQXFCO1FBQ3JCLElBQUlOLEtBQUtDLElBQUksQ0FBQ00sTUFBTSxHQUFHdEIsV0FBVztZQUNoQ0UsVUFBVTtRQUNaLE9BQU8sSUFBSWtCLGlCQUFpQmpCLFNBQVNtQixNQUFNLElBQUlGLGVBQWU7WUFDNURsQixVQUFVO1FBQ1osT0FBTztZQUNMRCxTQUFTRDtRQUNYO1FBRUEsbURBQW1EO1FBQ25ELElBQUlDLFNBQVMsS0FBSztZQUNoQkMsVUFBVTtRQUNaO0lBQ0Y7SUFFQSxPQUFPQyxTQUFTb0IsR0FBRyxDQUFDLENBQUNDO1FBQ25CLE1BQU1DLE1BQU1ELEtBQUtDLEdBQUcsSUFBSTtRQUN4QixNQUFNQyxjQUFjRixLQUFLRSxXQUFXLEVBQUUzQixVQUFVO1FBRWhELE1BQU00QixPQUFPLENBQUMsaURBQWlELEVBQUVDLG1CQUFtQkgsT0FBTzlCLE9BQU8sQ0FBQztRQUVuRyxNQUFNa0MsUUFBUUosTUFDVixDQUFDLGtEQUFrRCxFQUFFQSxJQUFJLElBQUksQ0FBQyxHQUM5RDtRQUVKLE9BQU87WUFDTEssV0FBV0w7WUFDWE0sT0FBT0w7WUFDUEEsYUFBYUE7WUFDYk0sT0FBT3BDLFdBQVc0QixLQUFLUSxLQUFLO1lBQzVCQyxVQUFVO1lBQ1ZOO1lBQ0FPLFFBQVE7WUFDUkMsT0FBT1gsS0FBS1csS0FBSyxFQUFFcEMsVUFBVTtZQUM3QjhCO1FBQ0Y7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGlmdHBhcnRzLWZpbmRlci8uL2xpYi9jb25uZWN0b3JzL215c29kaW1hcy50cz8wMmM4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGxpYi9jb25uZWN0b3JzL215c29kaW1hcy50c1xyXG5pbXBvcnQgdHlwZSB7IFN1cHBsaWVyUmVzdWx0IH0gZnJvbSAnLi4vdHlwZXMnXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VhcmNoTXlTb2RpbWFzKHF1ZXJ5OiBzdHJpbmcpOiBQcm9taXNlPFN1cHBsaWVyUmVzdWx0W10+IHtcclxuXHJcbiAgZnVuY3Rpb24gY2xlYW5TdG9jayhodG1sOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgaWYgKCFodG1sKSByZXR1cm4gJydcclxuICAgIHJldHVybiBodG1sXHJcbiAgICAgIC5yZXBsYWNlKC88W14+XSo+L2csICcnKVxyXG4gICAgICAucmVwbGFjZSgvXFxzKy9nLCAnICcpXHJcbiAgICAgIC50cmltKClcclxuICB9XHJcblxyXG4gIGNvbnN0IFBBR0VfU0laRSA9IDUwXHJcbiAgbGV0IHN0YXJ0ID0gMFxyXG4gIGxldCBoYXNNb3JlID0gdHJ1ZVxyXG4gIGxldCBhbGxJdGVtczogYW55W10gPSBbXVxyXG5cclxuICB3aGlsZSAoaGFzTW9yZSkge1xyXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTCgnaHR0cHM6Ly9teS5zb2RpbWFzLmNvbS9pbmRleC5jZm0nKVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2FjdGlvbicsICdzZWFyY2guanNvbkxpc3QnKVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2ZpbHRyZVByaW5jaXBhbCcsICdzZWFyY2hzdHJpbmcnKVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2ZpbHRyZVByaW5jaXBhbFZhbHVlJywgcXVlcnkpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnc2VhcmNoc3RyaW5nJywgcXVlcnkpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnZHJhdycsICcxJylcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdzdGFydCcsIHN0YXJ0LnRvU3RyaW5nKCkpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnbGVuZ3RoJywgUEFHRV9TSVpFLnRvU3RyaW5nKCkpXHJcblxyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsLnRvU3RyaW5nKCksIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgaWYgKCFyZXMub2spIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBTb2RpbWFzIEFQSSBlcnJvcjogJHtyZXMuc3RhdHVzfWApXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKClcclxuXHJcbiAgICBpZiAoIWpzb24uZGF0YSB8fCAhQXJyYXkuaXNBcnJheShqc29uLmRhdGEpKSBicmVha1xyXG5cclxuICAgIGFsbEl0ZW1zLnB1c2goLi4uanNvbi5kYXRhKVxyXG5cclxuICAgIGNvbnN0IHRvdGFsRmlsdGVyZWQgPSBqc29uLnJlY29yZHNGaWx0ZXJlZCA/PyBudWxsXHJcblxyXG4gICAgLy8gQ29uZGl0aW9ucyBkJ2FycsOqdFxyXG4gICAgaWYgKGpzb24uZGF0YS5sZW5ndGggPCBQQUdFX1NJWkUpIHtcclxuICAgICAgaGFzTW9yZSA9IGZhbHNlXHJcbiAgICB9IGVsc2UgaWYgKHRvdGFsRmlsdGVyZWQgJiYgYWxsSXRlbXMubGVuZ3RoID49IHRvdGFsRmlsdGVyZWQpIHtcclxuICAgICAgaGFzTW9yZSA9IGZhbHNlXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzdGFydCArPSBQQUdFX1NJWkVcclxuICAgIH1cclxuXHJcbiAgICAvLyBTw6ljdXJpdMOpIGFudGktYm91Y2xlIGluZmluaWUgKG1heCA1MDAgcsOpc3VsdGF0cylcclxuICAgIGlmIChzdGFydCA+PSA1MDApIHtcclxuICAgICAgaGFzTW9yZSA9IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYWxsSXRlbXMubWFwKChpdGVtOiBhbnkpID0+IHtcclxuICAgIGNvbnN0IHJlZiA9IGl0ZW0ucmVmIHx8ICcnXHJcbiAgICBjb25zdCBkZXNpZ25hdGlvbiA9IGl0ZW0uZGVzaWduYXRpb24/LnRyaW0oKSB8fCAnJ1xyXG5cclxuICAgIGNvbnN0IGxpbmsgPSBgaHR0cHM6Ly9teS5zb2RpbWFzLmNvbS9mci9yZWNoZXJjaGU/c2VhcmNoc3RyaW5nPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHJlZiB8fCBxdWVyeSl9YFxyXG5cclxuICAgIGNvbnN0IGltYWdlID0gcmVmXHJcbiAgICAgID8gYGh0dHBzOi8vbXkuc29kaW1hcy5jb20vZGF0YS9wcm9kdWl0cy90aHVtYm5haWwvZHQvJHtyZWZ9LmpwZ2BcclxuICAgICAgOiAnJ1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlZmVyZW5jZTogcmVmLFxyXG4gICAgICB0aXRsZTogZGVzaWduYXRpb24sIC8vIOKchSBvYmxpZ2F0b2lyZSBwb3VyIFN1cHBsaWVyUmVzdWx0XHJcbiAgICAgIGRlc2lnbmF0aW9uOiBkZXNpZ25hdGlvbixcclxuICAgICAgc3RvY2s6IGNsZWFuU3RvY2soaXRlbS5zdG9jayksXHJcbiAgICAgIHN1cHBsaWVyOiAnTXlTb2RpbWFzJyxcclxuICAgICAgbGluayxcclxuICAgICAgc291cmNlOiAnTXlTb2RpbWFzJyxcclxuICAgICAgYnJhbmQ6IGl0ZW0uYnJhbmQ/LnRyaW0oKSB8fCAnJyxcclxuICAgICAgaW1hZ2VcclxuICAgIH1cclxuICB9KVxyXG59Il0sIm5hbWVzIjpbInNlYXJjaE15U29kaW1hcyIsInF1ZXJ5IiwiY2xlYW5TdG9jayIsImh0bWwiLCJyZXBsYWNlIiwidHJpbSIsIlBBR0VfU0laRSIsInN0YXJ0IiwiaGFzTW9yZSIsImFsbEl0ZW1zIiwidXJsIiwiVVJMIiwic2VhcmNoUGFyYW1zIiwic2V0IiwidG9TdHJpbmciLCJyZXMiLCJmZXRjaCIsImhlYWRlcnMiLCJvayIsIkVycm9yIiwic3RhdHVzIiwianNvbiIsImRhdGEiLCJBcnJheSIsImlzQXJyYXkiLCJwdXNoIiwidG90YWxGaWx0ZXJlZCIsInJlY29yZHNGaWx0ZXJlZCIsImxlbmd0aCIsIm1hcCIsIml0ZW0iLCJyZWYiLCJkZXNpZ25hdGlvbiIsImxpbmsiLCJlbmNvZGVVUklDb21wb25lbnQiLCJpbWFnZSIsInJlZmVyZW5jZSIsInRpdGxlIiwic3RvY2siLCJzdXBwbGllciIsInNvdXJjZSIsImJyYW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/connectors/mysodimas.ts\n");

/***/ }),

/***/ "(api)/./pages/api/search.ts":
/*!*****************************!*\
  !*** ./pages/api/search.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_connectors_mysodimas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/connectors/mysodimas */ \"(api)/./lib/connectors/mysodimas.ts\");\n/* harmony import */ var _lib_connectors_elevatorshop__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/connectors/elevatorshop */ \"(api)/./lib/connectors/elevatorshop.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_connectors_elevatorshop__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_connectors_elevatorshop__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// pages/api/search.ts\n\n\nasync function handler(req, res) {\n    res.setHeader(\"Cache-Control\", \"no-store\");\n    const query = req.query.q;\n    if (!query || typeof query !== \"string\") {\n        return res.status(400).json({\n            error: \"Missing query parameter q\"\n        });\n    }\n    console.log(\"API search start for query (Sodimas + Elevatorshop):\", query);\n    try {\n        // ðŸ”¹ Lancement en parallÃ¨le, Sodimas reste intact\n        const [sodimasResults, elevatorshopResults] = await Promise.all([\n            (0,_lib_connectors_mysodimas__WEBPACK_IMPORTED_MODULE_0__.searchMySodimas)(query).catch((err)=>{\n                console.error(\"MySodimas error:\", err);\n                return [];\n            }),\n            (0,_lib_connectors_elevatorshop__WEBPACK_IMPORTED_MODULE_1__.searchElevatorshop)(query).catch((err)=>{\n                console.error(\"Elevatorshop error:\", err);\n                return [];\n            })\n        ]);\n        console.log(\"MySodimas count:\", sodimasResults.length);\n        console.log(\"Elevatorshop count:\", elevatorshopResults.length);\n        // ðŸ”¹ Fusion simple des rÃ©sultats\n        const combined = [\n            ...sodimasResults,\n            ...elevatorshopResults\n        ];\n        console.log(\"TOTAL COMBINED:\", combined.length);\n        return res.status(200).json(combined);\n    } catch (err) {\n        console.error(\"API search global error:\", err);\n        return res.status(500).json({\n            error: \"Internal server error\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvc2VhcmNoLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLHNCQUFzQjtBQUUwQztBQUNNO0FBR3ZELGVBQWVFLFFBQzVCQyxHQUFtQixFQUNuQkMsR0FBMEQ7SUFFMURBLElBQUlDLFNBQVMsQ0FBQyxpQkFBaUI7SUFFL0IsTUFBTUMsUUFBUUgsSUFBSUcsS0FBSyxDQUFDQyxDQUFDO0lBQ3pCLElBQUksQ0FBQ0QsU0FBUyxPQUFPQSxVQUFVLFVBQVU7UUFDdkMsT0FBT0YsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQTRCO0lBQ25FO0lBRUFDLFFBQVFDLEdBQUcsQ0FBQyx3REFBd0ROO0lBRXBFLElBQUk7UUFDRixrREFBa0Q7UUFDbEQsTUFBTSxDQUFDTyxnQkFBZ0JDLG9CQUFvQixHQUFHLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQztZQUM5RGhCLDBFQUFlQSxDQUFDTSxPQUFPVyxLQUFLLENBQUNDLENBQUFBO2dCQUMzQlAsUUFBUUQsS0FBSyxDQUFDLG9CQUFvQlE7Z0JBQ2xDLE9BQU8sRUFBRTtZQUNYO1lBQ0FqQixnRkFBa0JBLENBQUNLLE9BQU9XLEtBQUssQ0FBQ0MsQ0FBQUE7Z0JBQzlCUCxRQUFRRCxLQUFLLENBQUMsdUJBQXVCUTtnQkFDckMsT0FBTyxFQUFFO1lBQ1g7U0FDRDtRQUVEUCxRQUFRQyxHQUFHLENBQUMsb0JBQW9CQyxlQUFlTSxNQUFNO1FBQ3JEUixRQUFRQyxHQUFHLENBQUMsdUJBQXVCRSxvQkFBb0JLLE1BQU07UUFFN0QsaUNBQWlDO1FBQ2pDLE1BQU1DLFdBQTZCO2VBQzlCUDtlQUNBQztTQUNKO1FBRURILFFBQVFDLEdBQUcsQ0FBQyxtQkFBbUJRLFNBQVNELE1BQU07UUFFOUMsT0FBT2YsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQ1c7SUFDOUIsRUFBRSxPQUFPRixLQUFVO1FBQ2pCUCxRQUFRRCxLQUFLLENBQUMsNEJBQTRCUTtRQUMxQyxPQUFPZCxJQUFJSSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBd0I7SUFDL0Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2xpZnRwYXJ0cy1maW5kZXIvLi9wYWdlcy9hcGkvc2VhcmNoLnRzPzdhMDgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcGFnZXMvYXBpL3NlYXJjaC50c1xyXG5pbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0J1xyXG5pbXBvcnQgeyBzZWFyY2hNeVNvZGltYXMgfSBmcm9tICcuLi8uLi9saWIvY29ubmVjdG9ycy9teXNvZGltYXMnXHJcbmltcG9ydCB7IHNlYXJjaEVsZXZhdG9yc2hvcCB9IGZyb20gJy4uLy4uL2xpYi9jb25uZWN0b3JzL2VsZXZhdG9yc2hvcCdcclxuaW1wb3J0IHR5cGUgeyBTdXBwbGllclJlc3VsdCB9IGZyb20gJy4uLy4uL2xpYi90eXBlcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXHJcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcclxuICByZXM6IE5leHRBcGlSZXNwb25zZTxTdXBwbGllclJlc3VsdFtdIHwgeyBlcnJvcjogc3RyaW5nIH0+XHJcbikge1xyXG4gIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAnbm8tc3RvcmUnKVxyXG5cclxuICBjb25zdCBxdWVyeSA9IHJlcS5xdWVyeS5xIGFzIHN0cmluZ1xyXG4gIGlmICghcXVlcnkgfHwgdHlwZW9mIHF1ZXJ5ICE9PSAnc3RyaW5nJykge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdNaXNzaW5nIHF1ZXJ5IHBhcmFtZXRlciBxJyB9KVxyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coJ0FQSSBzZWFyY2ggc3RhcnQgZm9yIHF1ZXJ5IChTb2RpbWFzICsgRWxldmF0b3JzaG9wKTonLCBxdWVyeSlcclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIPCflLkgTGFuY2VtZW50IGVuIHBhcmFsbMOobGUsIFNvZGltYXMgcmVzdGUgaW50YWN0XHJcbiAgICBjb25zdCBbc29kaW1hc1Jlc3VsdHMsIGVsZXZhdG9yc2hvcFJlc3VsdHNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICBzZWFyY2hNeVNvZGltYXMocXVlcnkpLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignTXlTb2RpbWFzIGVycm9yOicsIGVycilcclxuICAgICAgICByZXR1cm4gW11cclxuICAgICAgfSksXHJcbiAgICAgIHNlYXJjaEVsZXZhdG9yc2hvcChxdWVyeSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFbGV2YXRvcnNob3AgZXJyb3I6JywgZXJyKVxyXG4gICAgICAgIHJldHVybiBbXVxyXG4gICAgICB9KVxyXG4gICAgXSlcclxuXHJcbiAgICBjb25zb2xlLmxvZygnTXlTb2RpbWFzIGNvdW50OicsIHNvZGltYXNSZXN1bHRzLmxlbmd0aClcclxuICAgIGNvbnNvbGUubG9nKCdFbGV2YXRvcnNob3AgY291bnQ6JywgZWxldmF0b3JzaG9wUmVzdWx0cy5sZW5ndGgpXHJcblxyXG4gICAgLy8g8J+UuSBGdXNpb24gc2ltcGxlIGRlcyByw6lzdWx0YXRzXHJcbiAgICBjb25zdCBjb21iaW5lZDogU3VwcGxpZXJSZXN1bHRbXSA9IFtcclxuICAgICAgLi4uc29kaW1hc1Jlc3VsdHMsXHJcbiAgICAgIC4uLmVsZXZhdG9yc2hvcFJlc3VsdHNcclxuICAgIF1cclxuXHJcbiAgICBjb25zb2xlLmxvZygnVE9UQUwgQ09NQklORUQ6JywgY29tYmluZWQubGVuZ3RoKVxyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihjb21iaW5lZClcclxuICB9IGNhdGNoIChlcnI6IGFueSkge1xyXG4gICAgY29uc29sZS5lcnJvcignQVBJIHNlYXJjaCBnbG9iYWwgZXJyb3I6JywgZXJyKVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pXHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbInNlYXJjaE15U29kaW1hcyIsInNlYXJjaEVsZXZhdG9yc2hvcCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJzZXRIZWFkZXIiLCJxdWVyeSIsInEiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic29kaW1hc1Jlc3VsdHMiLCJlbGV2YXRvcnNob3BSZXN1bHRzIiwiUHJvbWlzZSIsImFsbCIsImNhdGNoIiwiZXJyIiwibGVuZ3RoIiwiY29tYmluZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/search.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csearch.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();