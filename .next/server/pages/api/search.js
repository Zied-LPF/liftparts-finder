"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/search";
exports.ids = ["pages/api/search"];
exports.modules = {

/***/ "chrome-aws-lambda":
/*!************************************!*\
  !*** external "chrome-aws-lambda" ***!
  \************************************/
/***/ ((module) => {

module.exports = require("chrome-aws-lambda");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "puppeteer":
/*!****************************!*\
  !*** external "puppeteer" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("puppeteer");

/***/ }),

/***/ "puppeteer-core":
/*!*********************************!*\
  !*** external "puppeteer-core" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("puppeteer-core");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csearch.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csearch.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_search_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\search.ts */ \"(api)/./pages/api/search.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_search_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_search_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/search\",\n        pathname: \"/api/search\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_search_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnNlYXJjaCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDc2VhcmNoLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ29EO0FBQ3BEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxpREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsaURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGlmdHBhcnRzLWZpbmRlci8/NzY2YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXHNlYXJjaC50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3NlYXJjaFwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3NlYXJjaFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csearch.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/connectors/elevatorshop.ts":
/*!****************************************!*\
  !*** ./lib/connectors/elevatorshop.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   searchElevatorshop: () => (/* binding */ searchElevatorshop)\n/* harmony export */ });\nlet puppeteer;\nlet executablePath;\nlet args;\nlet defaultViewport;\nasync function searchElevatorshop(query) {\n    if (process.env.VERCEL) {\n        puppeteer = __webpack_require__(/*! puppeteer-core */ \"puppeteer-core\");\n        const chromium = __webpack_require__(/*! chrome-aws-lambda */ \"chrome-aws-lambda\");\n        executablePath = await chromium.executablePath;\n        args = chromium.args;\n        defaultViewport = chromium.defaultViewport;\n    } else {\n        puppeteer = __webpack_require__(/*! puppeteer */ \"puppeteer\");\n        executablePath = undefined;\n        args = [\n            \"--no-sandbox\",\n            \"--disable-setuid-sandbox\",\n            \"--disable-dev-shm-usage\"\n        ];\n        defaultViewport = undefined;\n    }\n    const browser = await puppeteer.launch({\n        headless: true,\n        args,\n        defaultViewport,\n        executablePath\n    });\n    const page = await browser.newPage();\n    try {\n        await page.setRequestInterception(true);\n        page.on(\"request\", (req)=>{\n            const type = req.resourceType();\n            if ([\n                \"stylesheet\",\n                \"font\",\n                \"media\"\n            ].includes(type)) req.abort();\n            else req.continue();\n        });\n        await page.goto(`https://www.elevatorshop.de/fr/search?search=${encodeURIComponent(query)}`, {\n            waitUntil: \"domcontentloaded\"\n        });\n        await page.waitForSelector(\".product-box\", {\n            timeout: 10000\n        });\n        const results = await page.evaluate(()=>{\n            const items = Array.from(document.querySelectorAll(\".product-box\"));\n            return items.slice(0, 20).map((card)=>{\n                const titleEl = card.querySelector(\".product-name\");\n                const linkEl = card.querySelector(\".product-image-link\");\n                const imgEl = card.querySelector(\".product-image-wrapper img\");\n                const refEl = card.querySelector(\".product-artikelnr\");\n                const stockEl = card.querySelector(\".badge-success\");\n                const reference = refEl?.textContent?.match(/\\d+/)?.[0] || \"\";\n                const stock = stockEl?.textContent?.trim() || \"\";\n                const link = linkEl?.href || titleEl?.href || (reference ? `https://www.elevatorshop.de/fr/search?search=${reference}` : \"\");\n                return {\n                    supplier: \"ElevatorShop\",\n                    title: titleEl?.textContent?.trim() || \"\",\n                    link,\n                    image: imgEl?.src || \"\",\n                    reference,\n                    stock\n                };\n            });\n        });\n        console.log(\"Elevatorshop parsed:\", results.length);\n        return results;\n    } catch (err) {\n        console.error(\"Elevatorshop Puppeteer error:\", err);\n        return [];\n    } finally{\n        await browser.close();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvY29ubmVjdG9ycy9lbGV2YXRvcnNob3AudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUVBLElBQUlBO0FBQ0osSUFBSUM7QUFDSixJQUFJQztBQUNKLElBQUlDO0FBRUcsZUFBZUMsbUJBQW1CQyxLQUFhO0lBQ3BELElBQUlDLFFBQVFDLEdBQUcsQ0FBQ0MsTUFBTSxFQUFFO1FBQ3RCUixZQUFZUyxtQkFBT0EsQ0FBQztRQUNwQixNQUFNQyxXQUFXRCxtQkFBT0EsQ0FBQztRQUN6QlIsaUJBQWlCLE1BQU1TLFNBQVNULGNBQWM7UUFDOUNDLE9BQU9RLFNBQVNSLElBQUk7UUFDcEJDLGtCQUFrQk8sU0FBU1AsZUFBZTtJQUM1QyxPQUFPO1FBQ0xILFlBQVlTLG1CQUFPQSxDQUFDO1FBQ3BCUixpQkFBaUJVO1FBQ2pCVCxPQUFPO1lBQUM7WUFBZ0I7WUFBNEI7U0FBMEI7UUFDOUVDLGtCQUFrQlE7SUFDcEI7SUFFQSxNQUFNQyxVQUFVLE1BQU1aLFVBQVVhLE1BQU0sQ0FBQztRQUNyQ0MsVUFBVTtRQUNWWjtRQUNBQztRQUNBRjtJQUNGO0lBRUEsTUFBTWMsT0FBTyxNQUFNSCxRQUFRSSxPQUFPO0lBRWxDLElBQUk7UUFDRixNQUFNRCxLQUFLRSxzQkFBc0IsQ0FBQztRQUNoQ0YsS0FBYUcsRUFBRSxDQUFDLFdBQVcsQ0FBQ0M7WUFDNUIsTUFBTUMsT0FBT0QsSUFBSUUsWUFBWTtZQUM3QixJQUFJO2dCQUFDO2dCQUFjO2dCQUFRO2FBQVEsQ0FBQ0MsUUFBUSxDQUFDRixPQUFPRCxJQUFJSSxLQUFLO2lCQUN4REosSUFBSUssUUFBUTtRQUNuQjtRQUVBLE1BQU1ULEtBQUtVLElBQUksQ0FDYixDQUFDLDZDQUE2QyxFQUFFQyxtQkFBbUJyQixPQUFPLENBQUMsRUFDM0U7WUFBRXNCLFdBQVc7UUFBbUI7UUFHbEMsTUFBTVosS0FBS2EsZUFBZSxDQUFDLGdCQUFnQjtZQUFFQyxTQUFTO1FBQU07UUFFNUQsTUFBTUMsVUFBNEIsTUFBTWYsS0FBS2dCLFFBQVEsQ0FBQztZQUNwRCxNQUFNQyxRQUFRQyxNQUFNQyxJQUFJLENBQUNDLFNBQVNDLGdCQUFnQixDQUFDO1lBRW5ELE9BQU9KLE1BQU1LLEtBQUssQ0FBQyxHQUFHLElBQUlDLEdBQUcsQ0FBQyxDQUFDQztnQkFDN0IsTUFBTUMsVUFBVUQsS0FBS0UsYUFBYSxDQUFDO2dCQUNuQyxNQUFNQyxTQUFTSCxLQUFLRSxhQUFhLENBQUM7Z0JBQ2xDLE1BQU1FLFFBQVFKLEtBQUtFLGFBQWEsQ0FBQztnQkFDakMsTUFBTUcsUUFBUUwsS0FBS0UsYUFBYSxDQUFDO2dCQUNqQyxNQUFNSSxVQUFVTixLQUFLRSxhQUFhLENBQUM7Z0JBRW5DLE1BQU1LLFlBQVlGLE9BQU9HLGFBQWFDLE1BQU0sUUFBUSxDQUFDLEVBQUUsSUFBSTtnQkFDM0QsTUFBTUMsUUFBUUosU0FBU0UsYUFBYUcsVUFBVTtnQkFDOUMsTUFBTUMsT0FDSlQsUUFBUVUsUUFDUlosU0FBU1ksUUFDUk4sQ0FBQUEsWUFDRyxDQUFDLDZDQUE2QyxFQUFFQSxVQUFVLENBQUMsR0FDM0QsRUFBQztnQkFFUCxPQUFPO29CQUNMTyxVQUFVO29CQUNWQyxPQUFPZCxTQUFTTyxhQUFhRyxVQUFVO29CQUN2Q0M7b0JBQ0FJLE9BQU9aLE9BQU9hLE9BQU87b0JBQ3JCVjtvQkFDQUc7Z0JBQ0Y7WUFDRjtRQUNGO1FBRUFRLFFBQVFDLEdBQUcsQ0FBQyx3QkFBd0I1QixRQUFRNkIsTUFBTTtRQUNsRCxPQUFPN0I7SUFDVCxFQUFFLE9BQU84QixLQUFLO1FBQ1pILFFBQVFJLEtBQUssQ0FBQyxpQ0FBaUNEO1FBQy9DLE9BQU8sRUFBRTtJQUNYLFNBQVU7UUFDUixNQUFNaEQsUUFBUWtELEtBQUs7SUFDckI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2xpZnRwYXJ0cy1maW5kZXIvLi9saWIvY29ubmVjdG9ycy9lbGV2YXRvcnNob3AudHM/NzZjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFN1cHBsaWVyUmVzdWx0IH0gZnJvbSAnLi4vdHlwZXMnXHJcblxyXG5sZXQgcHVwcGV0ZWVyOiB0eXBlb2YgaW1wb3J0KCdwdXBwZXRlZXInKSB8IHR5cGVvZiBpbXBvcnQoJ3B1cHBldGVlci1jb3JlJylcclxubGV0IGV4ZWN1dGFibGVQYXRoOiBzdHJpbmcgfCB1bmRlZmluZWRcclxubGV0IGFyZ3M6IHN0cmluZ1tdIHwgdW5kZWZpbmVkXHJcbmxldCBkZWZhdWx0Vmlld3BvcnQ6IGFueVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlYXJjaEVsZXZhdG9yc2hvcChxdWVyeTogc3RyaW5nKTogUHJvbWlzZTxTdXBwbGllclJlc3VsdFtdPiB7XHJcbiAgaWYgKHByb2Nlc3MuZW52LlZFUkNFTCkge1xyXG4gICAgcHVwcGV0ZWVyID0gcmVxdWlyZSgncHVwcGV0ZWVyLWNvcmUnKVxyXG4gICAgY29uc3QgY2hyb21pdW0gPSByZXF1aXJlKCdjaHJvbWUtYXdzLWxhbWJkYScpXHJcbiAgICBleGVjdXRhYmxlUGF0aCA9IGF3YWl0IGNocm9taXVtLmV4ZWN1dGFibGVQYXRoXHJcbiAgICBhcmdzID0gY2hyb21pdW0uYXJnc1xyXG4gICAgZGVmYXVsdFZpZXdwb3J0ID0gY2hyb21pdW0uZGVmYXVsdFZpZXdwb3J0XHJcbiAgfSBlbHNlIHtcclxuICAgIHB1cHBldGVlciA9IHJlcXVpcmUoJ3B1cHBldGVlcicpXHJcbiAgICBleGVjdXRhYmxlUGF0aCA9IHVuZGVmaW5lZFxyXG4gICAgYXJncyA9IFsnLS1uby1zYW5kYm94JywgJy0tZGlzYWJsZS1zZXR1aWQtc2FuZGJveCcsICctLWRpc2FibGUtZGV2LXNobS11c2FnZSddXHJcbiAgICBkZWZhdWx0Vmlld3BvcnQgPSB1bmRlZmluZWRcclxuICB9XHJcblxyXG4gIGNvbnN0IGJyb3dzZXIgPSBhd2FpdCBwdXBwZXRlZXIubGF1bmNoKHtcclxuICAgIGhlYWRsZXNzOiB0cnVlLFxyXG4gICAgYXJncyxcclxuICAgIGRlZmF1bHRWaWV3cG9ydCxcclxuICAgIGV4ZWN1dGFibGVQYXRoLFxyXG4gIH0pXHJcblxyXG4gIGNvbnN0IHBhZ2UgPSBhd2FpdCBicm93c2VyLm5ld1BhZ2UoKVxyXG5cclxuICB0cnkge1xyXG4gICAgYXdhaXQgcGFnZS5zZXRSZXF1ZXN0SW50ZXJjZXB0aW9uKHRydWUpXHJcbiAgICA7KHBhZ2UgYXMgYW55KS5vbigncmVxdWVzdCcsIChyZXE6IGFueSkgPT4ge1xyXG4gICAgICBjb25zdCB0eXBlID0gcmVxLnJlc291cmNlVHlwZSgpXHJcbiAgICAgIGlmIChbJ3N0eWxlc2hlZXQnLCAnZm9udCcsICdtZWRpYSddLmluY2x1ZGVzKHR5cGUpKSByZXEuYWJvcnQoKVxyXG4gICAgICBlbHNlIHJlcS5jb250aW51ZSgpXHJcbiAgICB9KVxyXG5cclxuICAgIGF3YWl0IHBhZ2UuZ290byhcclxuICAgICAgYGh0dHBzOi8vd3d3LmVsZXZhdG9yc2hvcC5kZS9mci9zZWFyY2g/c2VhcmNoPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KX1gLFxyXG4gICAgICB7IHdhaXRVbnRpbDogJ2RvbWNvbnRlbnRsb2FkZWQnIH1cclxuICAgIClcclxuXHJcbiAgICBhd2FpdCBwYWdlLndhaXRGb3JTZWxlY3RvcignLnByb2R1Y3QtYm94JywgeyB0aW1lb3V0OiAxMDAwMCB9KVxyXG5cclxuICAgIGNvbnN0IHJlc3VsdHM6IFN1cHBsaWVyUmVzdWx0W10gPSBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpOiBTdXBwbGllclJlc3VsdFtdID0+IHtcclxuICAgICAgY29uc3QgaXRlbXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9kdWN0LWJveCcpKVxyXG5cclxuICAgICAgcmV0dXJuIGl0ZW1zLnNsaWNlKDAsIDIwKS5tYXAoKGNhcmQpID0+IHtcclxuICAgICAgICBjb25zdCB0aXRsZUVsID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1uYW1lJykgYXMgSFRNTEFuY2hvckVsZW1lbnQgfCBudWxsXHJcbiAgICAgICAgY29uc3QgbGlua0VsID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1pbWFnZS1saW5rJykgYXMgSFRNTEFuY2hvckVsZW1lbnQgfCBudWxsXHJcbiAgICAgICAgY29uc3QgaW1nRWwgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0LWltYWdlLXdyYXBwZXIgaW1nJykgYXMgSFRNTEltYWdlRWxlbWVudCB8IG51bGxcclxuICAgICAgICBjb25zdCByZWZFbCA9IGNhcmQucXVlcnlTZWxlY3RvcignLnByb2R1Y3QtYXJ0aWtlbG5yJylcclxuICAgICAgICBjb25zdCBzdG9ja0VsID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuYmFkZ2Utc3VjY2VzcycpXHJcblxyXG4gICAgICAgIGNvbnN0IHJlZmVyZW5jZSA9IHJlZkVsPy50ZXh0Q29udGVudD8ubWF0Y2goL1xcZCsvKT8uWzBdIHx8ICcnXHJcbiAgICAgICAgY29uc3Qgc3RvY2sgPSBzdG9ja0VsPy50ZXh0Q29udGVudD8udHJpbSgpIHx8ICcnXHJcbiAgICAgICAgY29uc3QgbGluayA9XHJcbiAgICAgICAgICBsaW5rRWw/LmhyZWYgfHxcclxuICAgICAgICAgIHRpdGxlRWw/LmhyZWYgfHxcclxuICAgICAgICAgIChyZWZlcmVuY2VcclxuICAgICAgICAgICAgPyBgaHR0cHM6Ly93d3cuZWxldmF0b3JzaG9wLmRlL2ZyL3NlYXJjaD9zZWFyY2g9JHtyZWZlcmVuY2V9YFxyXG4gICAgICAgICAgICA6ICcnKVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgc3VwcGxpZXI6ICdFbGV2YXRvclNob3AnLFxyXG4gICAgICAgICAgdGl0bGU6IHRpdGxlRWw/LnRleHRDb250ZW50Py50cmltKCkgfHwgJycsXHJcbiAgICAgICAgICBsaW5rLFxyXG4gICAgICAgICAgaW1hZ2U6IGltZ0VsPy5zcmMgfHwgJycsXHJcbiAgICAgICAgICByZWZlcmVuY2UsXHJcbiAgICAgICAgICBzdG9jayxcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9KSBhcyBTdXBwbGllclJlc3VsdFtdXHJcblxyXG4gICAgY29uc29sZS5sb2coJ0VsZXZhdG9yc2hvcCBwYXJzZWQ6JywgcmVzdWx0cy5sZW5ndGgpXHJcbiAgICByZXR1cm4gcmVzdWx0c1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcignRWxldmF0b3JzaG9wIFB1cHBldGVlciBlcnJvcjonLCBlcnIpXHJcbiAgICByZXR1cm4gW11cclxuICB9IGZpbmFsbHkge1xyXG4gICAgYXdhaXQgYnJvd3Nlci5jbG9zZSgpXHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbInB1cHBldGVlciIsImV4ZWN1dGFibGVQYXRoIiwiYXJncyIsImRlZmF1bHRWaWV3cG9ydCIsInNlYXJjaEVsZXZhdG9yc2hvcCIsInF1ZXJ5IiwicHJvY2VzcyIsImVudiIsIlZFUkNFTCIsInJlcXVpcmUiLCJjaHJvbWl1bSIsInVuZGVmaW5lZCIsImJyb3dzZXIiLCJsYXVuY2giLCJoZWFkbGVzcyIsInBhZ2UiLCJuZXdQYWdlIiwic2V0UmVxdWVzdEludGVyY2VwdGlvbiIsIm9uIiwicmVxIiwidHlwZSIsInJlc291cmNlVHlwZSIsImluY2x1ZGVzIiwiYWJvcnQiLCJjb250aW51ZSIsImdvdG8iLCJlbmNvZGVVUklDb21wb25lbnQiLCJ3YWl0VW50aWwiLCJ3YWl0Rm9yU2VsZWN0b3IiLCJ0aW1lb3V0IiwicmVzdWx0cyIsImV2YWx1YXRlIiwiaXRlbXMiLCJBcnJheSIsImZyb20iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzbGljZSIsIm1hcCIsImNhcmQiLCJ0aXRsZUVsIiwicXVlcnlTZWxlY3RvciIsImxpbmtFbCIsImltZ0VsIiwicmVmRWwiLCJzdG9ja0VsIiwicmVmZXJlbmNlIiwidGV4dENvbnRlbnQiLCJtYXRjaCIsInN0b2NrIiwidHJpbSIsImxpbmsiLCJocmVmIiwic3VwcGxpZXIiLCJ0aXRsZSIsImltYWdlIiwic3JjIiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsImVyciIsImVycm9yIiwiY2xvc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/connectors/elevatorshop.ts\n");

/***/ }),

/***/ "(api)/./lib/connectors/mysodimas.ts":
/*!*************************************!*\
  !*** ./lib/connectors/mysodimas.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   searchMySodimas: () => (/* binding */ searchMySodimas)\n/* harmony export */ });\n// lib/connectors/mysodimas.ts\nasync function searchMySodimas(query) {\n    function cleanStock(html) {\n        if (!html) return \"\";\n        return html.replace(/<[^>]*>/g, \"\").replace(/\\s+/g, \" \").trim();\n    }\n    const PAGE_SIZE = 50;\n    let start = 0;\n    let hasMore = true;\n    let allItems = [];\n    while(hasMore){\n        const url = new URL(\"https://my.sodimas.com/index.cfm\");\n        url.searchParams.set(\"action\", \"search.jsonList\");\n        url.searchParams.set(\"filtrePrincipal\", \"searchstring\");\n        url.searchParams.set(\"filtrePrincipalValue\", query);\n        url.searchParams.set(\"searchstring\", query);\n        url.searchParams.set(\"draw\", \"1\");\n        url.searchParams.set(\"start\", start.toString());\n        url.searchParams.set(\"length\", PAGE_SIZE.toString());\n        const res = await fetch(url.toString(), {\n            headers: {\n                \"Accept\": \"application/json\",\n                \"X-Requested-With\": \"XMLHttpRequest\"\n            }\n        });\n        if (!res.ok) {\n            throw new Error(`Sodimas API error: ${res.status}`);\n        }\n        const json = await res.json();\n        if (!json.data || !Array.isArray(json.data)) break;\n        allItems.push(...json.data);\n        const totalFiltered = json.recordsFiltered ?? null;\n        // Conditions d'arrÃªt\n        if (json.data.length < PAGE_SIZE) {\n            hasMore = false;\n        } else if (totalFiltered && allItems.length >= totalFiltered) {\n            hasMore = false;\n        } else {\n            start += PAGE_SIZE;\n        }\n        // SÃ©curitÃ© anti-boucle infinie (max 500 rÃ©sultats)\n        if (start >= 500) {\n            hasMore = false;\n        }\n    }\n    return allItems.map((item)=>{\n        const ref = item.ref || \"\";\n        const designation = item.designation?.trim() || \"\";\n        const link = `https://my.sodimas.com/fr/recherche?searchstring=${encodeURIComponent(ref || query)}`;\n        const image = ref ? `https://my.sodimas.com/data/produits/thumbnail/dt/${ref}.jpg` : \"\";\n        return {\n            reference: ref,\n            title: designation,\n            designation: designation,\n            stock: cleanStock(item.stock),\n            supplier: \"MySodimas\",\n            link,\n            source: \"MySodimas\",\n            brand: item.brand?.trim() || \"\",\n            image\n        };\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvY29ubmVjdG9ycy9teXNvZGltYXMudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLDhCQUE4QjtBQUd2QixlQUFlQSxnQkFBZ0JDLEtBQWE7SUFFakQsU0FBU0MsV0FBV0MsSUFBWTtRQUM5QixJQUFJLENBQUNBLE1BQU0sT0FBTztRQUNsQixPQUFPQSxLQUNKQyxPQUFPLENBQUMsWUFBWSxJQUNwQkEsT0FBTyxDQUFDLFFBQVEsS0FDaEJDLElBQUk7SUFDVDtJQUVBLE1BQU1DLFlBQVk7SUFDbEIsSUFBSUMsUUFBUTtJQUNaLElBQUlDLFVBQVU7SUFDZCxJQUFJQyxXQUFrQixFQUFFO0lBRXhCLE1BQU9ELFFBQVM7UUFDZCxNQUFNRSxNQUFNLElBQUlDLElBQUk7UUFDcEJELElBQUlFLFlBQVksQ0FBQ0MsR0FBRyxDQUFDLFVBQVU7UUFDL0JILElBQUlFLFlBQVksQ0FBQ0MsR0FBRyxDQUFDLG1CQUFtQjtRQUN4Q0gsSUFBSUUsWUFBWSxDQUFDQyxHQUFHLENBQUMsd0JBQXdCWjtRQUM3Q1MsSUFBSUUsWUFBWSxDQUFDQyxHQUFHLENBQUMsZ0JBQWdCWjtRQUNyQ1MsSUFBSUUsWUFBWSxDQUFDQyxHQUFHLENBQUMsUUFBUTtRQUM3QkgsSUFBSUUsWUFBWSxDQUFDQyxHQUFHLENBQUMsU0FBU04sTUFBTU8sUUFBUTtRQUM1Q0osSUFBSUUsWUFBWSxDQUFDQyxHQUFHLENBQUMsVUFBVVAsVUFBVVEsUUFBUTtRQUVqRCxNQUFNQyxNQUFNLE1BQU1DLE1BQU1OLElBQUlJLFFBQVEsSUFBSTtZQUN0Q0csU0FBUztnQkFDUCxVQUFVO2dCQUNWLG9CQUFvQjtZQUN0QjtRQUNGO1FBRUEsSUFBSSxDQUFDRixJQUFJRyxFQUFFLEVBQUU7WUFDWCxNQUFNLElBQUlDLE1BQU0sQ0FBQyxtQkFBbUIsRUFBRUosSUFBSUssTUFBTSxDQUFDLENBQUM7UUFDcEQ7UUFFQSxNQUFNQyxPQUFPLE1BQU1OLElBQUlNLElBQUk7UUFFM0IsSUFBSSxDQUFDQSxLQUFLQyxJQUFJLElBQUksQ0FBQ0MsTUFBTUMsT0FBTyxDQUFDSCxLQUFLQyxJQUFJLEdBQUc7UUFFN0NiLFNBQVNnQixJQUFJLElBQUlKLEtBQUtDLElBQUk7UUFFMUIsTUFBTUksZ0JBQWdCTCxLQUFLTSxlQUFlLElBQUk7UUFFOUMscUJBQXFCO1FBQ3JCLElBQUlOLEtBQUtDLElBQUksQ0FBQ00sTUFBTSxHQUFHdEIsV0FBVztZQUNoQ0UsVUFBVTtRQUNaLE9BQU8sSUFBSWtCLGlCQUFpQmpCLFNBQVNtQixNQUFNLElBQUlGLGVBQWU7WUFDNURsQixVQUFVO1FBQ1osT0FBTztZQUNMRCxTQUFTRDtRQUNYO1FBRUEsbURBQW1EO1FBQ25ELElBQUlDLFNBQVMsS0FBSztZQUNoQkMsVUFBVTtRQUNaO0lBQ0Y7SUFFQSxPQUFPQyxTQUFTb0IsR0FBRyxDQUFDLENBQUNDO1FBQ25CLE1BQU1DLE1BQU1ELEtBQUtDLEdBQUcsSUFBSTtRQUN4QixNQUFNQyxjQUFjRixLQUFLRSxXQUFXLEVBQUUzQixVQUFVO1FBRWhELE1BQU00QixPQUFPLENBQUMsaURBQWlELEVBQUVDLG1CQUFtQkgsT0FBTzlCLE9BQU8sQ0FBQztRQUVuRyxNQUFNa0MsUUFBUUosTUFDVixDQUFDLGtEQUFrRCxFQUFFQSxJQUFJLElBQUksQ0FBQyxHQUM5RDtRQUVKLE9BQU87WUFDTEssV0FBV0w7WUFDWE0sT0FBT0w7WUFDUEEsYUFBYUE7WUFDYk0sT0FBT3BDLFdBQVc0QixLQUFLUSxLQUFLO1lBQzVCQyxVQUFVO1lBQ1ZOO1lBQ0FPLFFBQVE7WUFDUkMsT0FBT1gsS0FBS1csS0FBSyxFQUFFcEMsVUFBVTtZQUM3QjhCO1FBQ0Y7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGlmdHBhcnRzLWZpbmRlci8uL2xpYi9jb25uZWN0b3JzL215c29kaW1hcy50cz8wMmM4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGxpYi9jb25uZWN0b3JzL215c29kaW1hcy50c1xyXG5pbXBvcnQgdHlwZSB7IFN1cHBsaWVyUmVzdWx0IH0gZnJvbSAnLi4vdHlwZXMnXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VhcmNoTXlTb2RpbWFzKHF1ZXJ5OiBzdHJpbmcpOiBQcm9taXNlPFN1cHBsaWVyUmVzdWx0W10+IHtcclxuXHJcbiAgZnVuY3Rpb24gY2xlYW5TdG9jayhodG1sOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgaWYgKCFodG1sKSByZXR1cm4gJydcclxuICAgIHJldHVybiBodG1sXHJcbiAgICAgIC5yZXBsYWNlKC88W14+XSo+L2csICcnKVxyXG4gICAgICAucmVwbGFjZSgvXFxzKy9nLCAnICcpXHJcbiAgICAgIC50cmltKClcclxuICB9XHJcblxyXG4gIGNvbnN0IFBBR0VfU0laRSA9IDUwXHJcbiAgbGV0IHN0YXJ0ID0gMFxyXG4gIGxldCBoYXNNb3JlID0gdHJ1ZVxyXG4gIGxldCBhbGxJdGVtczogYW55W10gPSBbXVxyXG5cclxuICB3aGlsZSAoaGFzTW9yZSkge1xyXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTCgnaHR0cHM6Ly9teS5zb2RpbWFzLmNvbS9pbmRleC5jZm0nKVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2FjdGlvbicsICdzZWFyY2guanNvbkxpc3QnKVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2ZpbHRyZVByaW5jaXBhbCcsICdzZWFyY2hzdHJpbmcnKVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2ZpbHRyZVByaW5jaXBhbFZhbHVlJywgcXVlcnkpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnc2VhcmNoc3RyaW5nJywgcXVlcnkpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnZHJhdycsICcxJylcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdzdGFydCcsIHN0YXJ0LnRvU3RyaW5nKCkpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnbGVuZ3RoJywgUEFHRV9TSVpFLnRvU3RyaW5nKCkpXHJcblxyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsLnRvU3RyaW5nKCksIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgaWYgKCFyZXMub2spIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBTb2RpbWFzIEFQSSBlcnJvcjogJHtyZXMuc3RhdHVzfWApXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKClcclxuXHJcbiAgICBpZiAoIWpzb24uZGF0YSB8fCAhQXJyYXkuaXNBcnJheShqc29uLmRhdGEpKSBicmVha1xyXG5cclxuICAgIGFsbEl0ZW1zLnB1c2goLi4uanNvbi5kYXRhKVxyXG5cclxuICAgIGNvbnN0IHRvdGFsRmlsdGVyZWQgPSBqc29uLnJlY29yZHNGaWx0ZXJlZCA/PyBudWxsXHJcblxyXG4gICAgLy8gQ29uZGl0aW9ucyBkJ2FycsOqdFxyXG4gICAgaWYgKGpzb24uZGF0YS5sZW5ndGggPCBQQUdFX1NJWkUpIHtcclxuICAgICAgaGFzTW9yZSA9IGZhbHNlXHJcbiAgICB9IGVsc2UgaWYgKHRvdGFsRmlsdGVyZWQgJiYgYWxsSXRlbXMubGVuZ3RoID49IHRvdGFsRmlsdGVyZWQpIHtcclxuICAgICAgaGFzTW9yZSA9IGZhbHNlXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzdGFydCArPSBQQUdFX1NJWkVcclxuICAgIH1cclxuXHJcbiAgICAvLyBTw6ljdXJpdMOpIGFudGktYm91Y2xlIGluZmluaWUgKG1heCA1MDAgcsOpc3VsdGF0cylcclxuICAgIGlmIChzdGFydCA+PSA1MDApIHtcclxuICAgICAgaGFzTW9yZSA9IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYWxsSXRlbXMubWFwKChpdGVtOiBhbnkpID0+IHtcclxuICAgIGNvbnN0IHJlZiA9IGl0ZW0ucmVmIHx8ICcnXHJcbiAgICBjb25zdCBkZXNpZ25hdGlvbiA9IGl0ZW0uZGVzaWduYXRpb24/LnRyaW0oKSB8fCAnJ1xyXG5cclxuICAgIGNvbnN0IGxpbmsgPSBgaHR0cHM6Ly9teS5zb2RpbWFzLmNvbS9mci9yZWNoZXJjaGU/c2VhcmNoc3RyaW5nPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHJlZiB8fCBxdWVyeSl9YFxyXG5cclxuICAgIGNvbnN0IGltYWdlID0gcmVmXHJcbiAgICAgID8gYGh0dHBzOi8vbXkuc29kaW1hcy5jb20vZGF0YS9wcm9kdWl0cy90aHVtYm5haWwvZHQvJHtyZWZ9LmpwZ2BcclxuICAgICAgOiAnJ1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlZmVyZW5jZTogcmVmLFxyXG4gICAgICB0aXRsZTogZGVzaWduYXRpb24sIC8vIOKchSBvYmxpZ2F0b2lyZSBwb3VyIFN1cHBsaWVyUmVzdWx0XHJcbiAgICAgIGRlc2lnbmF0aW9uOiBkZXNpZ25hdGlvbixcclxuICAgICAgc3RvY2s6IGNsZWFuU3RvY2soaXRlbS5zdG9jayksXHJcbiAgICAgIHN1cHBsaWVyOiAnTXlTb2RpbWFzJyxcclxuICAgICAgbGluayxcclxuICAgICAgc291cmNlOiAnTXlTb2RpbWFzJyxcclxuICAgICAgYnJhbmQ6IGl0ZW0uYnJhbmQ/LnRyaW0oKSB8fCAnJyxcclxuICAgICAgaW1hZ2VcclxuICAgIH1cclxuICB9KVxyXG59Il0sIm5hbWVzIjpbInNlYXJjaE15U29kaW1hcyIsInF1ZXJ5IiwiY2xlYW5TdG9jayIsImh0bWwiLCJyZXBsYWNlIiwidHJpbSIsIlBBR0VfU0laRSIsInN0YXJ0IiwiaGFzTW9yZSIsImFsbEl0ZW1zIiwidXJsIiwiVVJMIiwic2VhcmNoUGFyYW1zIiwic2V0IiwidG9TdHJpbmciLCJyZXMiLCJmZXRjaCIsImhlYWRlcnMiLCJvayIsIkVycm9yIiwic3RhdHVzIiwianNvbiIsImRhdGEiLCJBcnJheSIsImlzQXJyYXkiLCJwdXNoIiwidG90YWxGaWx0ZXJlZCIsInJlY29yZHNGaWx0ZXJlZCIsImxlbmd0aCIsIm1hcCIsIml0ZW0iLCJyZWYiLCJkZXNpZ25hdGlvbiIsImxpbmsiLCJlbmNvZGVVUklDb21wb25lbnQiLCJpbWFnZSIsInJlZmVyZW5jZSIsInRpdGxlIiwic3RvY2siLCJzdXBwbGllciIsInNvdXJjZSIsImJyYW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/connectors/mysodimas.ts\n");

/***/ }),

/***/ "(api)/./pages/api/search.ts":
/*!*****************************!*\
  !*** ./pages/api/search.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_connectors_mysodimas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/connectors/mysodimas */ \"(api)/./lib/connectors/mysodimas.ts\");\n/* harmony import */ var _lib_connectors_elevatorshop__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/connectors/elevatorshop */ \"(api)/./lib/connectors/elevatorshop.ts\");\n// pages/api/search.ts\n\n\nasync function handler(req, res) {\n    res.setHeader(\"Cache-Control\", \"no-store\");\n    const query = req.query.q;\n    if (!query || typeof query !== \"string\") {\n        return res.status(400).json({\n            error: \"Missing query parameter q\"\n        });\n    }\n    console.log(\"API search start for query (Sodimas + Elevatorshop):\", query);\n    try {\n        // ðŸ”¹ Lancement en parallÃ¨le, Sodimas reste intact\n        const [sodimasResults, elevatorshopResults] = await Promise.all([\n            (0,_lib_connectors_mysodimas__WEBPACK_IMPORTED_MODULE_0__.searchMySodimas)(query).catch((err)=>{\n                console.error(\"MySodimas error:\", err);\n                return [];\n            }),\n            (0,_lib_connectors_elevatorshop__WEBPACK_IMPORTED_MODULE_1__.searchElevatorshop)(query).catch((err)=>{\n                console.error(\"Elevatorshop error:\", err);\n                return [];\n            })\n        ]);\n        console.log(\"MySodimas count:\", sodimasResults.length);\n        console.log(\"Elevatorshop count:\", elevatorshopResults.length);\n        // ðŸ”¹ Fusion simple des rÃ©sultats\n        const combined = [\n            ...sodimasResults,\n            ...elevatorshopResults\n        ];\n        console.log(\"TOTAL COMBINED:\", combined.length);\n        return res.status(200).json(combined);\n    } catch (err) {\n        console.error(\"API search global error:\", err);\n        return res.status(500).json({\n            error: \"Internal server error\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvc2VhcmNoLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLHNCQUFzQjtBQUUwQztBQUNNO0FBR3ZELGVBQWVFLFFBQzVCQyxHQUFtQixFQUNuQkMsR0FBMEQ7SUFFMURBLElBQUlDLFNBQVMsQ0FBQyxpQkFBaUI7SUFFL0IsTUFBTUMsUUFBUUgsSUFBSUcsS0FBSyxDQUFDQyxDQUFDO0lBQ3pCLElBQUksQ0FBQ0QsU0FBUyxPQUFPQSxVQUFVLFVBQVU7UUFDdkMsT0FBT0YsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQTRCO0lBQ25FO0lBRUFDLFFBQVFDLEdBQUcsQ0FBQyx3REFBd0ROO0lBRXBFLElBQUk7UUFDRixrREFBa0Q7UUFDbEQsTUFBTSxDQUFDTyxnQkFBZ0JDLG9CQUFvQixHQUFHLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQztZQUM5RGhCLDBFQUFlQSxDQUFDTSxPQUFPVyxLQUFLLENBQUNDLENBQUFBO2dCQUMzQlAsUUFBUUQsS0FBSyxDQUFDLG9CQUFvQlE7Z0JBQ2xDLE9BQU8sRUFBRTtZQUNYO1lBQ0FqQixnRkFBa0JBLENBQUNLLE9BQU9XLEtBQUssQ0FBQ0MsQ0FBQUE7Z0JBQzlCUCxRQUFRRCxLQUFLLENBQUMsdUJBQXVCUTtnQkFDckMsT0FBTyxFQUFFO1lBQ1g7U0FDRDtRQUVEUCxRQUFRQyxHQUFHLENBQUMsb0JBQW9CQyxlQUFlTSxNQUFNO1FBQ3JEUixRQUFRQyxHQUFHLENBQUMsdUJBQXVCRSxvQkFBb0JLLE1BQU07UUFFN0QsaUNBQWlDO1FBQ2pDLE1BQU1DLFdBQTZCO2VBQzlCUDtlQUNBQztTQUNKO1FBRURILFFBQVFDLEdBQUcsQ0FBQyxtQkFBbUJRLFNBQVNELE1BQU07UUFFOUMsT0FBT2YsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQ1c7SUFDOUIsRUFBRSxPQUFPRixLQUFVO1FBQ2pCUCxRQUFRRCxLQUFLLENBQUMsNEJBQTRCUTtRQUMxQyxPQUFPZCxJQUFJSSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBd0I7SUFDL0Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2xpZnRwYXJ0cy1maW5kZXIvLi9wYWdlcy9hcGkvc2VhcmNoLnRzPzdhMDgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcGFnZXMvYXBpL3NlYXJjaC50c1xyXG5pbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0J1xyXG5pbXBvcnQgeyBzZWFyY2hNeVNvZGltYXMgfSBmcm9tICcuLi8uLi9saWIvY29ubmVjdG9ycy9teXNvZGltYXMnXHJcbmltcG9ydCB7IHNlYXJjaEVsZXZhdG9yc2hvcCB9IGZyb20gJy4uLy4uL2xpYi9jb25uZWN0b3JzL2VsZXZhdG9yc2hvcCdcclxuaW1wb3J0IHR5cGUgeyBTdXBwbGllclJlc3VsdCB9IGZyb20gJy4uLy4uL2xpYi90eXBlcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXHJcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcclxuICByZXM6IE5leHRBcGlSZXNwb25zZTxTdXBwbGllclJlc3VsdFtdIHwgeyBlcnJvcjogc3RyaW5nIH0+XHJcbikge1xyXG4gIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAnbm8tc3RvcmUnKVxyXG5cclxuICBjb25zdCBxdWVyeSA9IHJlcS5xdWVyeS5xIGFzIHN0cmluZ1xyXG4gIGlmICghcXVlcnkgfHwgdHlwZW9mIHF1ZXJ5ICE9PSAnc3RyaW5nJykge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdNaXNzaW5nIHF1ZXJ5IHBhcmFtZXRlciBxJyB9KVxyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coJ0FQSSBzZWFyY2ggc3RhcnQgZm9yIHF1ZXJ5IChTb2RpbWFzICsgRWxldmF0b3JzaG9wKTonLCBxdWVyeSlcclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIPCflLkgTGFuY2VtZW50IGVuIHBhcmFsbMOobGUsIFNvZGltYXMgcmVzdGUgaW50YWN0XHJcbiAgICBjb25zdCBbc29kaW1hc1Jlc3VsdHMsIGVsZXZhdG9yc2hvcFJlc3VsdHNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICBzZWFyY2hNeVNvZGltYXMocXVlcnkpLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignTXlTb2RpbWFzIGVycm9yOicsIGVycilcclxuICAgICAgICByZXR1cm4gW11cclxuICAgICAgfSksXHJcbiAgICAgIHNlYXJjaEVsZXZhdG9yc2hvcChxdWVyeSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFbGV2YXRvcnNob3AgZXJyb3I6JywgZXJyKVxyXG4gICAgICAgIHJldHVybiBbXVxyXG4gICAgICB9KVxyXG4gICAgXSlcclxuXHJcbiAgICBjb25zb2xlLmxvZygnTXlTb2RpbWFzIGNvdW50OicsIHNvZGltYXNSZXN1bHRzLmxlbmd0aClcclxuICAgIGNvbnNvbGUubG9nKCdFbGV2YXRvcnNob3AgY291bnQ6JywgZWxldmF0b3JzaG9wUmVzdWx0cy5sZW5ndGgpXHJcblxyXG4gICAgLy8g8J+UuSBGdXNpb24gc2ltcGxlIGRlcyByw6lzdWx0YXRzXHJcbiAgICBjb25zdCBjb21iaW5lZDogU3VwcGxpZXJSZXN1bHRbXSA9IFtcclxuICAgICAgLi4uc29kaW1hc1Jlc3VsdHMsXHJcbiAgICAgIC4uLmVsZXZhdG9yc2hvcFJlc3VsdHNcclxuICAgIF1cclxuXHJcbiAgICBjb25zb2xlLmxvZygnVE9UQUwgQ09NQklORUQ6JywgY29tYmluZWQubGVuZ3RoKVxyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihjb21iaW5lZClcclxuICB9IGNhdGNoIChlcnI6IGFueSkge1xyXG4gICAgY29uc29sZS5lcnJvcignQVBJIHNlYXJjaCBnbG9iYWwgZXJyb3I6JywgZXJyKVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pXHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbInNlYXJjaE15U29kaW1hcyIsInNlYXJjaEVsZXZhdG9yc2hvcCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJzZXRIZWFkZXIiLCJxdWVyeSIsInEiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic29kaW1hc1Jlc3VsdHMiLCJlbGV2YXRvcnNob3BSZXN1bHRzIiwiUHJvbWlzZSIsImFsbCIsImNhdGNoIiwiZXJyIiwibGVuZ3RoIiwiY29tYmluZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/search.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csearch.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();